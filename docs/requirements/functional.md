# 機能要件定義書

## 1. 概要

StocksTokは、東証上場企業の株価データを分析し、スイングトレード向けの投資候補を提示するPCアプリケーションです。

## 2. 主要機能

### 2.1 データ取得機能

#### 2.1.1 株価データ取得
- **対象**: 東証全上場企業（約3,800社）
- **取得データ**:
  - 現在の株価
  - 過去30日間の株価推移
  - 出来高
  - 時価総額
  - 配当利回り

#### 2.1.2 財務データ取得
- **取得データ**:
  - 売上高
  - 営業利益
  - 純利益
  - 自己資本比率
  - ROE（自己資本利益率）
  - PER（株価収益率）
  - PBR（株価純資産倍率）

#### 2.1.3 ニュース・開示情報取得
- **取得データ**:
  - 適時開示情報（直近30日）
  - 関連ニュース（直近30日）
  - 業界動向

### 2.2 分析・評価機能

#### 2.2.1 ファンダメンタルズ分析
各企業について以下の要素を0-100点で評価：

- **財務健全性** (25点)
  - 自己資本比率
  - 流動比率
  - 債務返済能力

- **収益性** (25点)
  - ROE
  - 営業利益率
  - 純利益率

- **成長性** (25点)
  - 売上成長率
  - 利益成長率
  - 業界平均との比較

- **配当政策** (25点)
  - 配当利回り
  - 配当性向
  - 配当の安定性

#### 2.2.2 テクニカル分析
各企業について以下の要素を0-100点で評価：

- **価格トレンド** (30点)
  - 移動平均線の位置関係
  - 価格の上昇トレンド
  - サポート・レジスタンス

- **モメンタム** (30点)
  - RSI（相対力指数）
  - MACD
  - ストキャスティクス

- **ボラティリティ** (20点)
  - 価格変動の安定性
  - リスク調整後リターン

- **出来高分析** (20点)
  - 出来高の増減
  - 価格との相関

#### 2.2.3 ニュース・開示分析
各企業について以下の要素を0-100点で評価：

- **開示情報の重要性** (40点)
  - 決算情報
  - 業績予想の修正
  - 重要な経営判断

- **ニュースの影響度** (30点)
  - ポジティブ/ネガティブ判定
  - 市場への影響予測

- **業界動向との整合性** (30点)
  - 業界トレンドとの一致度
  - 競合他社との比較

### 2.3 総合評価機能

#### 2.3.1 重み付け計算
各分析結果を以下の重みで総合評価：

- ファンダメンタルズ分析: 40%
- テクニカル分析: 35%
- ニュース・開示分析: 25%

#### 2.3.2 ランキング機能
- 総合評価点の高い順にランキング
- 上位10社を投資候補として選定

### 2.4 結果表示機能

#### 2.4.1 詳細表示
各選定企業について以下を表示：

- **基本情報**
  - 企業名・コード
  - 現在の株価
  - 時価総額

- **評価詳細**
  - 各分析項目の実数値
  - 各分析項目の評価点（0-100点）
  - 総合評価点

- **ニュース要約**
  - 影響度の高いニュース3本
  - 各ニュースの要旨

#### 2.4.2 履歴表示
- 過去の分析結果の表示
- 評価点の推移グラフ
- 実際の株価変動との比較

### 2.5 データ管理機能

#### 2.5.1 キャッシュ機能
- 前回実行時のデータを保存
- 決算日をチェックし、更新不要なデータは再利用
- 実行時間の短縮

#### 2.5.2 履歴管理
- 全分析結果の保存
- 直近3回分は完全データ保存
- それ以前は評価点のみ保存（容量削減）

## 3. 非機能要件

### 3.1 パフォーマンス
- 初回実行: 最大30分以内
- 2回目以降: 最大5分以内
- メモリ使用量: 最大2GB

### 3.2 可用性
- Windows 11での安定動作
- エラー時の適切なメッセージ表示
- データ取得失敗時の代替処理

### 3.3 拡張性
- 機械学習機能の追加を考慮した設計
- 新しい評価指標の追加が容易な構造
- 他市場への拡張可能性

## 4. 制約事項

- 無料のAPI・ライブラリのみ使用
- 外部有償サービスへの依存なし
- オフライン環境での基本機能動作
- 個人利用を前提とした設計 